{"message":"Not Found","documentation_url":"https://docs.github.com/rest/git/refs#get-all-references-in-a-namespace","status":"404","name":"tool","url":"https://s7efan80.github.io/TR-Locator/","showName":"TR-Locator","appid":"com.TR.app","icon":"","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"0.0.1","preview":"desktop","platform":["1-1","1-2"],"width":800,"height":600,"desc":"","jsFile":[],"filterCss":"","customJs":"console.log(\n    '%cbuild from PakePlusï¼š https://github.com/Sjj1024/PakePlus',\n    'color:orangered;font-weight:bolder'\n)\n\n// === MACåœ°å€éªŒè¯ç³»ç»Ÿ ===\nconst MACAuthSystem = {\n    // å·²æˆæƒçš„MACåœ°å€åˆ—è¡¨ï¼ˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸­åº”è¯¥ä»æœåŠ¡å™¨è·å–ï¼‰\n    authorizedMACs: [\n        \"XX-XX-XX-XX-XX-XX\"  // æ›¿æ¢ä¸ºä½ çš„MACåœ°å€\n    ],\n    \n    // è·å–è®¾å¤‡æ ‡è¯†ï¼ˆæ¨¡æ‹ŸMACåœ°å€ï¼‰\n    getDeviceFingerprint: function() {\n        return new Promise((resolve) => {\n            // ä½¿ç”¨å¤šç§æ–¹å¼ç”Ÿæˆè®¾å¤‡æŒ‡çº¹\n            const fingerprint = {\n                userAgent: navigator.userAgent,\n                language: navigator.language,\n                platform: navigator.platform,\n                hardwareConcurrency: navigator.hardwareConcurrency || 'unknown',\n                deviceMemory: navigator.deviceMemory || 'unknown',\n                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n                screenResolution: `${screen.width}x${screen.height}`,\n                colorDepth: screen.colorDepth,\n                timestamp: Date.now()\n            };\n            \n            // ç”Ÿæˆå”¯ä¸€è®¾å¤‡ID\n            const deviceId = this.generateDeviceId(fingerprint);\n            resolve(deviceId);\n        });\n    },\n    \n    // ç”Ÿæˆè®¾å¤‡ID\n    generateDeviceId: function(fingerprint) {\n        const data = JSON.stringify(fingerprint);\n        let hash = 0;\n        for (let i = 0; i < data.length; i++) {\n            const char = data.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash;\n        }\n        return Math.abs(hash).toString(16).toUpperCase().substring(0, 12);\n    },\n    \n    // éªŒè¯è®¾å¤‡æ˜¯å¦æˆæƒ\n    validateDevice: async function() {\n        try {\n            const deviceId = await this.getDeviceFingerprint();\n            const isAuthorized = this.authorizedMACs.some(mac => \n                mac === \"XX-XX-XX-XX-XX-XX\" || // é€šé…ç¬¦ï¼Œç”¨äºæµ‹è¯•\n                this.checkMACFormat(deviceId)\n            );\n            \n            console.log('Device validation:', {\n                deviceId: deviceId,\n                isAuthorized: isAuthorized,\n                authorizedMACs: this.authorizedMACs\n            });\n            \n            return isAuthorized;\n        } catch (error) {\n            console.error('Device validation failed:', error);\n            return false;\n        }\n    },\n    \n    // æ£€æŸ¥MACæ ¼å¼\n    checkMACFormat: function(mac) {\n        return /^[0-9A-F]{12}$/.test(mac);\n    },\n    \n    // æ˜¾ç¤ºæˆæƒç•Œé¢\n    showAuthInterface: function() {\n        // éšè—åŸæœ‰å†…å®¹\n        const originalContent = document.body.innerHTML;\n        document.body.style.display = 'none';\n        \n        // ä¿å­˜åŸå§‹å†…å®¹åˆ°æœ¬åœ°å­˜å‚¨\n        localStorage.setItem('originalAppContent', originalContent);\n        \n        // åˆ›å»ºæˆæƒç•Œé¢\n        const authHTML = `\n            <div style=\"\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                font-family: Arial, sans-serif;\n                z-index: 9999;\n            \">\n                <div style=\"\n                    background: white;\n                    padding: 40px;\n                    border-radius: 15px;\n                    box-shadow: 0 10px 30px rgba(0,0,0,0.3);\n                    text-align: center;\n                    max-width: 500px;\n                    width: 90%;\n                \">\n                    <h1 style=\"color: #333; margin-bottom: 20px;\">ğŸ” è½¯ä»¶æˆæƒéªŒè¯</h1>\n                    <p style=\"color: #666; margin-bottom: 30px; line-height: 1.6;\">\n                        æ­¤è½¯ä»¶éœ€è¦æˆæƒæ‰èƒ½ä½¿ç”¨ã€‚è¯·è”ç³»ç®¡ç†å‘˜è·å–è®¿é—®æƒé™ã€‚\n                    </p>\n                    \n                    <div style=\"\n                        background: #f8f9fa;\n                        padding: 15px;\n                        border-radius: 8px;\n                        margin: 20px 0;\n                        font-family: monospace;\n                        word-break: break-all;\n                    \">\n                        <strong>è®¾å¤‡ID:</strong><br>\n                        <span id=\"deviceIdDisplay\">æ­£åœ¨è·å–...</span>\n                    </div>\n                    \n                    <div style=\"margin: 20px 0;\">\n                        <input type=\"password\" \n                               id=\"licenseKey\" \n                               placeholder=\"è¯·è¾“å…¥æˆæƒå¯†é’¥\" \n                               style=\"\n                                   width: 100%;\n                                   padding: 12px;\n                                   border: 2px solid #ddd;\n                                   border-radius: 6px;\n                                   font-size: 16px;\n                                   margin-bottom: 15px;\n                               \">\n                        <button onclick=\"MACAuthSystem.checkLicenseKey()\" \n                                style=\"\n                                    width: 100%;\n                                    padding: 12px;\n                                    background: #667eea;\n                                    color: white;\n                                    border: none;\n                                    border-radius: 6px;\n                                    font-size: 16px;\n                                    cursor: pointer;\n                                \">\n                            éªŒè¯æˆæƒ\n                        </button>\n                    </div>\n                    \n                    <p style=\"color: #999; font-size: 12px; margin-top: 20px;\">\n                        å¦‚æ— æ³•éªŒè¯ï¼Œè¯·è”ç³»ç³»ç»Ÿç®¡ç†å‘˜æä¾›æ‚¨çš„è®¾å¤‡ID\n                    </p>\n                </div>\n            </div>\n        `;\n        \n        document.body.innerHTML = authHTML;\n        \n        // æ˜¾ç¤ºè®¾å¤‡ID\n        this.getDeviceFingerprint().then(deviceId => {\n            document.getElementById('deviceIdDisplay').textContent = deviceId;\n        });\n    },\n    \n    // æ£€æŸ¥æˆæƒå¯†é’¥\n    checkLicenseKey: function() {\n        const licenseKey = document.getElementById('licenseKey').value;\n        const deviceId = document.getElementById('deviceIdDisplay').textContent;\n        \n        // ç®€å•çš„å¯†é’¥éªŒè¯é€»è¾‘ï¼ˆç”Ÿäº§ç¯å¢ƒä¸­åº”è¯¥ä»æœåŠ¡å™¨éªŒè¯ï¼‰\n        const isValid = this.validateLicenseKey(licenseKey, deviceId);\n        \n        if (isValid) {\n            // ä¿å­˜æˆæƒçŠ¶æ€\n            localStorage.setItem('deviceAuthorized', 'true');\n            localStorage.setItem('authorizedDeviceId', deviceId);\n            localStorage.setItem('authTimestamp', Date.now().toString());\n            \n            // æ¢å¤åº”ç”¨ç•Œé¢\n            this.restoreApplication();\n        } else {\n            alert('âŒ æˆæƒå¯†é’¥æ— æ•ˆï¼è¯·æ£€æŸ¥åé‡è¯•ã€‚');\n        }\n    },\n    \n    // éªŒè¯å¯†é’¥ï¼ˆç®€å•ç¤ºä¾‹ï¼Œç”Ÿäº§ç¯å¢ƒéœ€è¦æ›´å¤æ‚çš„é€»è¾‘ï¼‰\n    validateLicenseKey: function(key, deviceId) {\n        // ç¤ºä¾‹éªŒè¯é€»è¾‘ï¼šå¯†é’¥ä¸ºè®¾å¤‡IDçš„å“ˆå¸Œå€¼\n        const expectedKey = this.generateLicenseKey(deviceId);\n        return key === expectedKey;\n    },\n    \n    // ç”Ÿæˆæˆæƒå¯†é’¥ï¼ˆç¤ºä¾‹ï¼‰\n    generateLicenseKey: function(deviceId) {\n        // ç®€å•çš„å¯†é’¥ç”Ÿæˆç®—æ³•ï¼ˆç”Ÿäº§ç¯å¢ƒéœ€è¦æ›´å®‰å…¨çš„ç®—æ³•ï¼‰\n        let hash = 0;\n        for (let i = 0; i < deviceId.length; i++) {\n            hash = ((hash << 5) - hash) + deviceId.charCodeAt(i);\n            hash = hash & hash;\n        }\n        return `LIC-${Math.abs(hash).toString(36).toUpperCase().substring(0, 8)}`;\n    },\n    \n    // æ¢å¤åº”ç”¨ç•Œé¢\n    restoreApplication: function() {\n        const originalContent = localStorage.getItem('originalAppContent');\n        if (originalContent) {\n            document.body.innerHTML = originalContent;\n            document.body.style.display = 'block';\n            \n            // é‡æ–°åº”ç”¨å¸ƒå±€ä¿®å¤\n            if (window.applyLayoutFix) {\n                applyLayoutFix();\n            }\n            \n            // é‡æ–°ç»‘å®šäº‹ä»¶\n            if (window.hookClick) {\n                document.addEventListener('click', hookClick, { capture: true });\n            }\n        } else {\n            location.reload();\n        }\n    },\n    \n    // åˆå§‹åŒ–éªŒè¯ç³»ç»Ÿ\n    init: async function() {\n        // æ£€æŸ¥æ˜¯å¦å·²ç»æˆæƒ\n        const isAuthorized = localStorage.getItem('deviceAuthorized') === 'true';\n        const authTimestamp = parseInt(localStorage.getItem('authTimestamp') || '0');\n        const authorizedDeviceId = localStorage.getItem('authorizedDeviceId');\n        \n        // éªŒè¯æˆæƒæ—¶æ•ˆæ€§ï¼ˆ1å¤©ï¼‰\n        const isAuthValid = isAuthorized && \n                           (Date.now() - authTimestamp) < (1 * 24 * 60 * 60 * 1000);\n        \n        if (isAuthValid) {\n            // éªŒè¯å½“å‰è®¾å¤‡æ˜¯å¦ä¸æˆæƒè®¾å¤‡ä¸€è‡´\n            const currentDeviceId = await this.getDeviceFingerprint();\n            if (currentDeviceId === authorizedDeviceId) {\n                console.log('Device authorization valid');\n                return true;\n            }\n        }\n        \n        // æ˜¾ç¤ºæˆæƒç•Œé¢\n        this.showAuthInterface();\n        return false;\n    }\n};\n\n// === åŸæœ‰çš„é“¾æ¥å¤„ç†é€»è¾‘ ===\nconst hookClick = (e) => {\n    const origin = e.target.closest('a')\n    const isBaseTargetBlank = document.querySelector('head base[target=\"_blank\"]')\n    \n    if (origin && origin.href) {\n        const currentHost = window.location.hostname;\n        const targetHost = origin.hostname;\n        const isExternal = targetHost && targetHost !== currentHost;\n        const isBlankTarget = origin.target === '_blank';\n        \n        if ((isBlankTarget && isExternal) || (isExternal && isBaseTargetBlank)) {\n            e.preventDefault()\n            location.href = origin.href\n        }\n    }\n}\n\n// ä¿®å¤window.open\nconst originalOpen = window.open;\nwindow.open = function (url, target, features) {\n    if (url && typeof url === 'string') {\n        const currentHost = window.location.hostname;\n        const targetHost = new URL(url, window.location.origin).hostname;\n        const isExternal = targetHost && targetHost !== currentHost;\n        \n        if (isExternal) {\n            location.href = url\n            return null;\n        }\n    }\n    \n    return originalOpen.call(this, url, target, features);\n}\n\n// === åˆå§‹åŒ– ===\ndocument.addEventListener('DOMContentLoaded', async function() {\n    console.log('PakePlus with MAC authentication loaded');\n    \n    // åˆå§‹åŒ–MACåœ°å€éªŒè¯\n    const isAuthenticated = await MACAuthSystem.init();\n    \n    if (isAuthenticated) {\n        // åªæœ‰éªŒè¯é€šè¿‡æ‰åŠ è½½åŸæœ‰åŠŸèƒ½\n        document.addEventListener('click', hookClick, { capture: true });\n        \n        // åº”ç”¨å¸ƒå±€ä¿®å¤ï¼ˆå¦‚æœå­˜åœ¨ï¼‰\n        if (window.applyLayoutFix) {\n            setTimeout(applyLayoutFix, 100);\n        }\n    }\n});\n\n// å¯¼å‡ºåˆ°å…¨å±€ä½œç”¨åŸŸ\nwindow.MACAuthSystem = MACAuthSystem;\nwindow.hookClick = hookClick;","isHtml":false,"htmlPath":"","htmlFiles":[],"more":{"windows":{"label":"tool","title":"TR-Locator","url":"https://s7efan80.github.io/TR-Locator/","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36","width":1200,"height":1200,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"tool","showName":"TR-Locator","version":"0.0.1","webUrl":"https://s7efan80.github.io/TR-Locator/","id":"com.TR.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","pubBody":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","isHtml":false,"debug":false},"android":{"name":"tool","showName":"TR-Locator","version":"0.0.1","webUrl":"https://s7efan80.github.io/TR-Locator/","id":"com.TR.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","pubBody":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","isHtml":false,"debug":false},"desktop":{"name":"tool","showName":"TR-Locator","version":"0.0.1","id":"com.TR.app.desktop","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿï¼‰","webUrl":"https://s7efan80.github.io/TR-Locator/","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿï¼‰","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"cloud","debug":false}}